.modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  display: grid; place-items: center;
  z-index: 1000;
  padding: 20px;
}

.modal-card {
  width: min(520px, 95vw);
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(14px);
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0,0,0,.35);
  overflow: hidden;
}

.modal-head {
  display: flex; justify-content: space-between; align-items: center;
  padding: 14px 16px;
  border-bottom: 1px solid rgba(255,255,255,.12);
}
.modal-head h3 {
  margin: 0; font-size: 1.1rem; color: #f6eaff; font-weight: 800;
}
.icon-close {
  background: transparent; border: 1px solid #ffffff26; color: #fff;
  width: 32px; height: 32px; border-radius: 10px; font-size: 18px; line-height: 1;
}

.modal-body {
  padding: 16px;
}

.confirm-text {
  margin: 0 0 18px; color: #f6eaff;
}

.confirm-actions {
  display: flex; justify-content: flex-end; gap: 8px;
}
.confirm-actions .danger {
  background: #ef444422;
  border: 1px solid #ef444455;
  color: #ff8a8a;
}


/* ===================== Edit Student (ES) Scoped Styles ===================== */

.es-panel { margin-top: 14px; }
.es-header {
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.es-title { display: flex; align-items: baseline; gap: .5rem; font-weight: 800; }
.es-title .es-name { color: #c4b5fd; font-weight: 900; }
.es-tools .es-ghost-btn{
  background: #f59e0b; border: 1px solid rgba(255,255,255,.15);
  color: #fff; border-radius: 12px; padding: 8px 14px; cursor: pointer;
  transition: background .2s, border-color .2s, transform .05s; font-size: 24px; font-weight: 600;
}
.es-tools .es-ghost-btn:hover{
  border-color: rgba(139,92,246,.55); background: rgba(139,92,246,.12);
}

/* Modal */
.es-modal-overlay{
  position: fixed; inset: 0; z-index: 2000; display: flex; align-items: center; justify-content: center;
  background: radial-gradient(1200px 800px at 75% 10%, rgba(124,58,237,.18), rgba(0,0,0,.75));
  backdrop-filter: blur(4px);
  padding: 24px;
}
.es-modal{
  width: min(860px, 100%); max-height: 90vh; overflow: auto;
  background: linear-gradient(180deg,#1b1330 0%,#1a112a 100%);
  color:#fff; border: 1px solid rgba(255,255,255,.08); border-radius:16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  padding: 22px 20px 26px; position: relative; animation: es-pop .18s ease-out;
}
@keyframes es-pop{ from{opacity:0; transform:scale(.97)} to{opacity:1; transform:scale(1)} }
.es-modal h3{ margin:0 0 14px; font-size:1.15rem; font-weight:800; padding-bottom:10px; border-bottom:1px dashed rgba(255,255,255,.08); }

.es-modal-close{
  position: sticky; top: 0; float: left; /* RTL */
  border:0; background:transparent; color:#fff; font-size:1.6rem; line-height:1;
  padding:4px 6px; margin-top:-6px; cursor:pointer; transition: color .15s, transform .05s;
}
.es-modal-close:hover{ color:#f87171; transform:scale(1.05); }

/* Form */
.es-form-grid{
  display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px;
}
@media (max-width:640px){ .es-form-grid{ grid-template-columns:1fr; } }
.es-field{ display:grid; gap:6px; }
.es-field>span{ font-size:.9rem; opacity:.85; font-weight:600; }
.es-field input,.es-field select{
 background:#120c22; color:#fff; border:1px solid rgba(255,255,255,.12);
  border-radius:12px; padding:10px 12px; outline:none; transition:border-color .15s, box-shadow .15s;
}
.es-field input:focus,.es-field select:focus{ border-color:#8b5cf6; box-shadow:0 0 0 3px rgba(139,92,246,.15); }

/* Buttons */
.es-actions{ display:flex; gap:8px; justify-content:flex-start; margin-top:10px; }
.es-primary{
  background: linear-gradient(90deg,#7c3aed,#8b5cf6); color:#fff; border:0; padding:10px 16px; border-radius:12px;
  font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(139,92,246,.25);
  transition: transform .05s, filter .15s, box-shadow .15s;
}
.es-primary:hover{ filter:brightness(1.05); box-shadow:0 8px 22px rgba(139,92,246,.34); }
.es-primary:active{ transform:translateY(1px); }

.es-divider{
  height:1px; background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);
  margin:16px 0 14px;
}

/* Subjects selector */
.es-subjects{ margin-top:8px; }
.es-subjects-head{ display:flex; align-items:baseline; gap:8px; margin-bottom:10px; }
.es-subjects-head>span{ font-weight:800; }
.es-subjects-head>small{ opacity:.7; }
.es-chips{ display:flex; flex-wrap:wrap; gap:8px; }
.es-chip{
  border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.02); color:#fff;
  border-radius:999px; padding:8px 12px; cursor:pointer; transition: background .15s, border-color .15s, box-shadow .15s;
}
.es-chip:hover{ background:rgba(139,92,246,.12); border-color:rgba(139,92,246,.5); }
.es-chip.active{ background:rgba(139,92,246,.16); border-color:rgba(139,92,246,.7); box-shadow:0 0 0 3px rgba(139,92,246,.12) inset; }

/* Goals per subject */
.es-subject-goals{ margin-top:12px; }
.es-sg-head{ display:flex; align-items:baseline; gap:8px; margin-bottom:8px; }
.es-sg-head b{ font-weight:800; }
.es-sg-head small{ opacity:.7; }

.es-goals{ display:grid; gap:8px; }
.es-goal{
  display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:start;
  padding:10px 12px; border-radius:12px; background:#120c22; border:1px solid rgba(255,255,255,.10);
  transition:border-color .15s, box-shadow .15s, background .15s;
}
.es-goal:hover{ border-color:rgba(139,92,246,.45); background:#160f2b; }
.es-goal input{ margin-top:3px; transform:scale(1.05); }
.es-goal .title{ font-weight:700; }
.es-goal .desc{ opacity:.75; font-size:.92rem; }
.es-goal.checked{ box-shadow:0 0 0 3px rgba(139,92,246,.16) inset; border-color:rgba(139,92,246,.6); }

/* Small helper text */
.es-hint{ opacity:.7; font-size:.92rem; }

/* Mobile tweaks */
@media (max-width:420px){
  .es-modal{ padding:18px 14px; border-radius:14px; }
  .es-modal-close{ left:6px; }
}
